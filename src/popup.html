<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Price Tracker</title>
  <!-- Bootstrap CSS for improved UI -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root{
      --bg: #0f172a;
      --muted: #6b7280;
      --card: #ffffff;
      --surface: #f8fafc;
      --accent: #2563eb; /* blue-600 */
      --accent-600:#1d4ed8;
      --danger: #dc2626;
      font-family: Inter, system-ui, 'Segoe UI', Roboto, Arial, sans-serif;
      color: var(--bg);
    }
    body{width:460px;padding:14px;margin:0;background:linear-gradient(180deg,#f8fbff,white)}
    h3{margin:0 0 10px;font-size:17px;color:var(--accent-600)}
    .controls{display:flex;gap:8px;align-items:center}
    button{border-radius:8px}
    .btn-primary{background:linear-gradient(180deg,var(--accent),var(--accent-600));border:none}
    .btn-outline-secondary{border:1px solid #e6eef5;background:transparent;color:var(--bg)}
    #current{margin:12px 0;padding:12px;border-radius:10px;background:var(--card);box-shadow:0 6px 18px rgba(16,24,40,0.06);border:1px solid rgba(14,165,233,0.03)}
    .price{font-weight:700;color:var(--danger)}
    #list{margin-top:8px;display:flex;flex-direction:column;gap:10px;max-height:300px;overflow:auto}
    .item{background:var(--card);padding:10px;border-radius:10px;display:flex;justify-content:space-between;align-items:center;gap:12px;box-shadow:0 6px 12px rgba(2,6,23,0.04)}
    .meta{display:flex;flex-direction:column;gap:4px;flex:1;min-width:0}
    .title{font-size:13px;color:var(--bg);max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
    .small{font-size:12px;color:var(--muted)}
    .actions{display:flex;gap:6px}
    .price-col{min-width:150px;display:flex;align-items:center;justify-content:flex-end;padding-left:14px;border-left:1px solid #f1f5f9}
    .price-col .price{margin-left:8px;margin-right:12px}
    .price-col .actions{margin-left:6px}
    .price-col .actions button{margin-left:6px}
    a{color:inherit}
  </style>
</head>
<body>
  <h3>Price Tracker</h3>
  <div class="controls">
    <div style="margin-left:auto;display:flex;gap:6px;align-items:center">
      <button id="refreshBtn" title="Refresh checks" class="secondary btn btn-outline-secondary btn-sm">Refresh <span id="refreshSpinner" class="spinner-border spinner-border-sm" role="status" style="display:none;margin-left:8px"></span></button>
      <button id="pickBtn" class="btn btn-outline-secondary btn-sm">Manually track</button>
      <button id="trackBtn" class="btn btn-primary btn-sm">Track</button>
      <button id="openDetailsBtn" class="secondary btn btn-outline-secondary btn-sm">Open Details</button>
    </div>
  </div>
  <div id="refreshStatus" class="small text-muted" style="margin-top:6px"></div>

  <div id="current">Loading current page...</div>
  <div id="selectorNote" class="small text-muted" style="margin-top:6px"></div>

  <div id="list" aria-live="polite">(none)</div>

  <script src="popup.js"></script>
</body>
</html>
